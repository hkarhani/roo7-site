<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Referral Program</title>
  <link rel="stylesheet" href="dashboard.css?v=5.3" />
  <link rel="stylesheet" href="referrals.css?v=1.1" />
  <link rel="stylesheet" href="referrals-professional.css?v=1.1" />
</head>
<body>
  <div class="dashboard-header">
    <h1>🎯 Referral Program</h1>

    <div class="actions">
      <button id="generate-code-btn">🔄 Generate New Code</button>
      <button id="toggle-theme">Toggle Theme</button>
      <button id="back-to-dashboard">← Dashboard</button>
    </div>
  </div>

  <main class="dashboard-grid referrals-grid">
    <!-- Referral Overview Section -->
    <section id="section-overview" class="dashboard-card">
      <h2>💰 Earnings Overview</h2>
      <div class="earnings-stats">
        <div class="stat-card primary">
          <div class="stat-icon">💵</div>
          <div class="stat-content">
            <div class="stat-label">Current Balance</div>
            <div id="current-balance" class="stat-value">$0.00</div>
          </div>
        </div>
        <div class="stat-card success">
          <div class="stat-icon">🎉</div>
          <div class="stat-content">
            <div class="stat-label">Total Earned</div>
            <div id="total-earned" class="stat-value">$0.00</div>
          </div>
        </div>
        <div class="stat-card info">
          <div class="stat-icon">👥</div>
          <div class="stat-content">
            <div class="stat-label">Successful Referrals</div>
            <div id="referrals-count" class="stat-value">0</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Share Your Code Section -->
    <section id="section-share" class="dashboard-card">
      <h2>🔗 Share Your Referral Code</h2>
      <div class="referral-code-section">
        <div class="code-display">
          <label for="referral-code-input">Your Referral Code:</label>
          <div class="code-input-group">
            <input type="text" id="referral-code-input" readonly placeholder="No code generated yet">
            <button id="copy-code-btn" class="copy-btn" title="Copy Code">📋</button>
          </div>
        </div>
        

        <div class="share-buttons">
          <button id="share-email" class="share-btn email">
            <span class="share-icon">📧</span>
            <span class="share-text">Share via Email</span>
          </button>
        </div>
      </div>
    </section>

    <!-- Wallet Management Section -->
    <section id="section-wallet" class="dashboard-card">
      <h2>💳 Payout Wallet Address</h2>
      <div class="wallet-section">
        <div id="wallet-display" class="wallet-display" style="display: none;">
          <div class="wallet-info">
            <label>Current Wallet Address:</label>
            <div class="wallet-address-display">
              <code id="current-wallet-address"></code>
              <span id="wallet-type-badge" class="wallet-badge">TRC20</span>
            </div>
            <div class="wallet-status">
              <span id="wallet-verified-status" class="status-badge">⏳ Unverified</span>
              <span id="wallet-changes-remaining" class="changes-info"></span>
            </div>
          </div>
          <button id="edit-wallet-btn" class="btn-edit">✏️ Edit Wallet</button>
        </div>
        
        <div id="wallet-form" class="wallet-form">
          <div class="form-group">
            <label for="wallet-address-input">USDT (TRC20) Wallet Address:</label>
            <input type="text" id="wallet-address-input" placeholder="Enter your USDT TRC20 wallet address" maxlength="34">
            <div class="wallet-help">
              <small>⚠️ <strong>Important:</strong> Double-check your address. Payments to wrong addresses cannot be recovered.</small>
              <small>💡 TRC20 addresses start with 'T' and are 34 characters long.</small>
            </div>
          </div>
          <div class="wallet-actions">
            <button id="save-wallet-btn" class="btn-primary">💾 Save Wallet</button>
            <button id="cancel-wallet-btn" class="btn-secondary" style="display: none;">❌ Cancel</button>
          </div>
          <div id="wallet-status-message" class="status-message" style="display: none;"></div>
        </div>
        
        <div class="wallet-note">
          <div class="info-card">
            <div class="info-icon">📋</div>
            <div class="info-content">
              <h4>Payout Requirements</h4>
              <ul>
                <li>Minimum balance: <strong>$50 USDT</strong></li>
                <li>Valid TRC20 wallet address required</li>
                <li>Maximum 5 wallet changes per month</li>
                <li>Payouts processed manually by admin</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Program Details Section -->
    <section id="section-details" class="dashboard-card">
      <h2>📋 Program Details</h2>
      <div class="program-info">
        <div class="info-card">
          <div class="info-icon">💸</div>
          <div class="info-content">
            <h4>Commission Rate</h4>
            <p>Earn <strong>20%</strong> commission when referred users use your code during invoice payment</p>
          </div>
        </div>
        
        <div class="info-card">
          <div class="info-icon">⏰</div>
          <div class="info-content">
            <h4>Payment Conditions</h4>
            <p>Commission paid <strong>only when</strong> referred users use your code during invoice payment</p>
          </div>
        </div>
        
        <div class="info-card">
          <div class="info-icon">🎯</div>
          <div class="info-content">
            <h4>How It Works</h4>
            <p>Share your code with new customers who enter it when <strong>paying invoices</strong></p>
          </div>
        </div>
        
        <div class="info-card">
          <div class="info-icon">💰</div>
          <div class="info-content">
            <h4>Payout Methods</h4>
            <p>Cryptocurrency Wallet Transfer (minimum payout: <strong>100 USDT</strong>)</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Referral History Section -->
    <section id="section-history" class="dashboard-card">
      <h2>📊 Referral History</h2>
      <div class="history-filters">
        <select id="status-filter">
          <option value="">All Statuses</option>
          <option value="pending">Pending</option>
          <option value="qualified">Qualified</option>
          <option value="paid">Paid Out</option>
        </select>
        <button id="filter-btn" class="filter-btn">Apply Filter</button>
      </div>
      
      <div class="table-container">
        <table id="referrals-table">
          <thead>
            <tr>
              <th>Referred User</th>
              <th>Email</th>
              <th>Sign-up Date</th>
              <th>Commission</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="5" class="loading-message">Loading referral history...</td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>


  </main>

  <!-- Scripts -->
  <script src="theme-manager.js?v=1"></script>
  <script src="referrals.js?v=1.4"></script>
</body>
</html>